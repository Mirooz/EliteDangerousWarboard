<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.ImageView?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="be.mirooz.elitedangerous.dashboard.controller.ui.component.MiningSearchPanelComponent"
      styleClass="mining-search-panel" spacing="10">

    <!-- Header avec filtre de recherche -->
    <VBox spacing="10" styleClass="mining-header">
        <Label fx:id="miningTitleLabel" text="RECHERCHE DE MINAGE" styleClass="mining-header-title"/>

        <StackPane>
            <HBox fx:id="searchContentHBox" spacing="30" styleClass="mining-search-container" alignment="CENTER_LEFT">
                <!-- Minéral Cible -->
                <VBox fx:id="mineralTargetContainer" spacing="5" styleClass="search-item">
                    <Label fx:id="mineralTargetLabel" text="MINÉRAL CIBLE" styleClass="search-label"/>
                    <ComboBox fx:id="mineralComboBox" styleClass="elite-combobox" prefWidth="235" minWidth="235"
                              promptText="Sélectionner un minerais..."/>
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <CheckBox fx:id="fleetCarrierCheckBox" styleClass="fleet-carrier-checkbox" selected="true"
                                  onAction="#onFleetCarrierToggle"/>
                        <CheckBox fx:id="padsCheckBox" styleClass="pads-checkbox" selected="false"
                                  onAction="#onPadsToggle"/>
                    </HBox>
                    <HBox spacing="5" alignment="CENTER_LEFT">
                        <Label fx:id="maxDistanceLabel" text="DISTANCE MAX" styleClass="search-label"/>
                        <TextField fx:id="maxDistanceTextField" styleClass="elite-textfield" prefWidth="60" minWidth="60"
                                   text="100"/>
                        <Label fx:id="distanceUnitLabel" text="AL" styleClass="search-label"/>
                    </HBox> 
                </VBox>

                <!-- Prix -->
                <HBox spacing="5" styleClass="search-item" translateY="10">
                    <VBox>
                        <Label fx:id="priceLabel" text="PRIX" styleClass="search-label"/>
                        <Label fx:id="headerPriceLabel" text="--" styleClass="search-price-large"/>
                    </VBox>
                    <VBox>
                        <Label fx:id="demandLabel" text="DEMANDE" styleClass="search-label"/>
                        <Label fx:id="headerDemandLabel" text="--" styleClass="search-price-large"/>
                    </VBox>
                </HBox>

                <!-- Ring to Mine -->
                <VBox spacing="5" styleClass="search-item">
                    <Label fx:id="ringToMineLabel" text="RING TO MINE" styleClass="search-label"/>
                      <VBox spacing="2" styleClass="ring-container,clickable-container"
                          onMouseClicked="#onRingContainerClicked">
                        <Label fx:id="headerRingNameLabel" text="Non défini" styleClass="location-name-large"/>
                        <Label fx:id="headerRingSystemLabel" text="" styleClass="location-system"/>
                    </VBox>
                </VBox>

                <!-- Flèche avec distance -->
                <VBox spacing="5" styleClass="arrow-container" alignment="CENTER" translateY="-20">
                    <Label fx:id="headerDistanceLabel" text="--" styleClass="distance-label"/>
                    <Label text="➤" styleClass="arrow-symbol"/>
                </VBox>

                <!-- Station to Sell -->
                <HBox>
                    <VBox spacing="5" styleClass="search-item">
                        <Label fx:id="stationToSellLabel" text="STATION TO SELL" styleClass="search-label"/>
                          <VBox spacing="2" styleClass="station-container,clickable-container"
                              onMouseClicked="#onStationContainerClicked">
                            <Label fx:id="headerStationNameLabel" text="Non définie" styleClass="location-name-large">
                            </Label>
                            <Label fx:id="headerStationSystemLabel" text="" styleClass="location-system"/>
                        </VBox>
                    </VBox>
                    <ImageView fx:id="stationTypeImageView" styleClass="station-type-icon" translateY="-20"
                               fitWidth="100" fitHeight="100"
                               preserveRatio="true"/>
                    <VBox spacing="2" alignment="CENTER_LEFT" translateY="-20">
                        <Label fx:id="headerStationDistanceTitleLabel" text="Distance" styleClass="search-label"/>
                        <Label fx:id="headerStationDistanceLabel" text="--" styleClass="location-system"/>
                    </VBox>
                </HBox>
            </HBox>

            <ProgressIndicator fx:id="loadingIndicator" 
                               maxWidth="80" maxHeight="80"
                               visible="false"
                               translateX="-200"
                               translateY="-20"/>
        </StackPane>
    </VBox>
</VBox>
